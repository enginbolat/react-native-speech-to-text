///
/// JSpeechCallbacks.hpp
/// This file was generated by nitrogen. DO NOT MODIFY THIS FILE.
/// https://github.com/mrousavy/nitro
/// Copyright Â© Marc Rousavy @ Margelo
///

#pragma once

#include <fbjni/fbjni.h>
#include "SpeechCallbacks.hpp"

#include "JFunc_void.hpp"
#include "JFunc_void_SpeechErrorResult.hpp"
#include "JFunc_void_double.hpp"
#include "JFunc_void_std__vector_std__string_.hpp"
#include "JSpeechErrorResult.hpp"
#include "SpeechErrorResult.hpp"
#include <NitroModules/JNICallable.hpp>
#include <functional>
#include <optional>
#include <string>
#include <vector>

namespace margelo::nitro::speechtotext {

  using namespace facebook;

  /**
   * The C++ JNI bridge between the C++ struct "SpeechCallbacks" and the the Kotlin data class "SpeechCallbacks".
   */
  struct JSpeechCallbacks final: public jni::JavaClass<JSpeechCallbacks> {
  public:
    static auto constexpr kJavaDescriptor = "Lcom/margelo/nitro/speechtotext/SpeechCallbacks;";

  public:
    /**
     * Convert this Java/Kotlin-based struct to the C++ struct SpeechCallbacks by copying all values to C++.
     */
    [[maybe_unused]]
    [[nodiscard]]
    SpeechCallbacks toCpp() const {
      static const auto clazz = javaClassStatic();
      static const auto fieldOnStart = clazz->getField<JFunc_void::javaobject>("onStart");
      jni::local_ref<JFunc_void::javaobject> onStart = this->getFieldValue(fieldOnStart);
      static const auto fieldOnResult = clazz->getField<JFunc_void_std__vector_std__string_::javaobject>("onResult");
      jni::local_ref<JFunc_void_std__vector_std__string_::javaobject> onResult = this->getFieldValue(fieldOnResult);
      static const auto fieldOnPartialResult = clazz->getField<JFunc_void_std__vector_std__string_::javaobject>("onPartialResult");
      jni::local_ref<JFunc_void_std__vector_std__string_::javaobject> onPartialResult = this->getFieldValue(fieldOnPartialResult);
      static const auto fieldOnError = clazz->getField<JFunc_void_SpeechErrorResult::javaobject>("onError");
      jni::local_ref<JFunc_void_SpeechErrorResult::javaobject> onError = this->getFieldValue(fieldOnError);
      static const auto fieldOnEnd = clazz->getField<JFunc_void::javaobject>("onEnd");
      jni::local_ref<JFunc_void::javaobject> onEnd = this->getFieldValue(fieldOnEnd);
      static const auto fieldOnVolumeChanged = clazz->getField<JFunc_void_double::javaobject>("onVolumeChanged");
      jni::local_ref<JFunc_void_double::javaobject> onVolumeChanged = this->getFieldValue(fieldOnVolumeChanged);
      return SpeechCallbacks(
        onStart != nullptr ? std::make_optional([&]() -> std::function<void()> {
          if (onStart->isInstanceOf(JFunc_void_cxx::javaClassStatic())) [[likely]] {
            auto downcast = jni::static_ref_cast<JFunc_void_cxx::javaobject>(onStart);
            return downcast->cthis()->getFunction();
          } else {
            auto onStartRef = jni::make_global(onStart);
            return JNICallable<JFunc_void, void()>(std::move(onStartRef));
          }
        }()) : std::nullopt,
        onResult != nullptr ? std::make_optional([&]() -> std::function<void(const std::vector<std::string>& /* value */)> {
          if (onResult->isInstanceOf(JFunc_void_std__vector_std__string__cxx::javaClassStatic())) [[likely]] {
            auto downcast = jni::static_ref_cast<JFunc_void_std__vector_std__string__cxx::javaobject>(onResult);
            return downcast->cthis()->getFunction();
          } else {
            auto onResultRef = jni::make_global(onResult);
            return JNICallable<JFunc_void_std__vector_std__string_, void(std::vector<std::string>)>(std::move(onResultRef));
          }
        }()) : std::nullopt,
        onPartialResult != nullptr ? std::make_optional([&]() -> std::function<void(const std::vector<std::string>& /* value */)> {
          if (onPartialResult->isInstanceOf(JFunc_void_std__vector_std__string__cxx::javaClassStatic())) [[likely]] {
            auto downcast = jni::static_ref_cast<JFunc_void_std__vector_std__string__cxx::javaobject>(onPartialResult);
            return downcast->cthis()->getFunction();
          } else {
            auto onPartialResultRef = jni::make_global(onPartialResult);
            return JNICallable<JFunc_void_std__vector_std__string_, void(std::vector<std::string>)>(std::move(onPartialResultRef));
          }
        }()) : std::nullopt,
        onError != nullptr ? std::make_optional([&]() -> std::function<void(const SpeechErrorResult& /* error */)> {
          if (onError->isInstanceOf(JFunc_void_SpeechErrorResult_cxx::javaClassStatic())) [[likely]] {
            auto downcast = jni::static_ref_cast<JFunc_void_SpeechErrorResult_cxx::javaobject>(onError);
            return downcast->cthis()->getFunction();
          } else {
            auto onErrorRef = jni::make_global(onError);
            return JNICallable<JFunc_void_SpeechErrorResult, void(SpeechErrorResult)>(std::move(onErrorRef));
          }
        }()) : std::nullopt,
        onEnd != nullptr ? std::make_optional([&]() -> std::function<void()> {
          if (onEnd->isInstanceOf(JFunc_void_cxx::javaClassStatic())) [[likely]] {
            auto downcast = jni::static_ref_cast<JFunc_void_cxx::javaobject>(onEnd);
            return downcast->cthis()->getFunction();
          } else {
            auto onEndRef = jni::make_global(onEnd);
            return JNICallable<JFunc_void, void()>(std::move(onEndRef));
          }
        }()) : std::nullopt,
        onVolumeChanged != nullptr ? std::make_optional([&]() -> std::function<void(double /* value */)> {
          if (onVolumeChanged->isInstanceOf(JFunc_void_double_cxx::javaClassStatic())) [[likely]] {
            auto downcast = jni::static_ref_cast<JFunc_void_double_cxx::javaobject>(onVolumeChanged);
            return downcast->cthis()->getFunction();
          } else {
            auto onVolumeChangedRef = jni::make_global(onVolumeChanged);
            return JNICallable<JFunc_void_double, void(double)>(std::move(onVolumeChangedRef));
          }
        }()) : std::nullopt
      );
    }

  public:
    /**
     * Create a Java/Kotlin-based struct by copying all values from the given C++ struct to Java.
     */
    [[maybe_unused]]
    static jni::local_ref<JSpeechCallbacks::javaobject> fromCpp(const SpeechCallbacks& value) {
      using JSignature = JSpeechCallbacks(jni::alias_ref<JFunc_void::javaobject>, jni::alias_ref<JFunc_void_std__vector_std__string_::javaobject>, jni::alias_ref<JFunc_void_std__vector_std__string_::javaobject>, jni::alias_ref<JFunc_void_SpeechErrorResult::javaobject>, jni::alias_ref<JFunc_void::javaobject>, jni::alias_ref<JFunc_void_double::javaobject>);
      static const auto clazz = javaClassStatic();
      static const auto create = clazz->getStaticMethod<JSignature>("fromCpp");
      return create(
        clazz,
        value.onStart.has_value() ? JFunc_void_cxx::fromCpp(value.onStart.value()) : nullptr,
        value.onResult.has_value() ? JFunc_void_std__vector_std__string__cxx::fromCpp(value.onResult.value()) : nullptr,
        value.onPartialResult.has_value() ? JFunc_void_std__vector_std__string__cxx::fromCpp(value.onPartialResult.value()) : nullptr,
        value.onError.has_value() ? JFunc_void_SpeechErrorResult_cxx::fromCpp(value.onError.value()) : nullptr,
        value.onEnd.has_value() ? JFunc_void_cxx::fromCpp(value.onEnd.value()) : nullptr,
        value.onVolumeChanged.has_value() ? JFunc_void_double_cxx::fromCpp(value.onVolumeChanged.value()) : nullptr
      );
    }
  };

} // namespace margelo::nitro::speechtotext
